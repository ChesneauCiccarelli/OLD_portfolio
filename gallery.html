<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.js"></script>
</head>
<body>
  <div class="loader flex items-center justify-center z-50">
    <div>
      <h1>Loading</h1>
      <h2 class="loader_progress">0%</h2>
    </div>
  </div>
  
  <div class="gallery_wrapper">
    <header class="flex items-center justify-center TAG_galley">
      <div>
        <h1>Design Gallery</h1>
        <h2>Lilian Chesneau</h2>
      </div>
    </header>
  
    <section class="ANIM_galleryTXT">
      <div class="anim_img ANIM_galleryTXT-txt">
        CREATING&nbsp;THE&nbsp;LIFE&nbsp;I&nbsp;WANT
      </div>
    </section>
    <section class="ANIM_gallery">
      <ul class="anim_img TAG_galley">
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=98" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=54" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=113" width="1240">
        </li>
      </ul>
    </section>
  
    <section class="ANIM_gallery">
      <ul class="anim_img TAG_galley">
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=47" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=158" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=132" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=53" width="1240">
        </li>
      </ul>
    </section>
  
    <section class="ANIM_gallery">
      <ul class="anim_img TAG_galley">
        <li>
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=83" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=97" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=6" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=139" width="1240">
        </li>
      </ul>
    </section>
  
    <section class="ANIM_gallery">
      <ul class="anim_img TAG_galley">
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=42" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=89" width="1240">
        </li>
        <li class="TAG_galley">
          <img class="TAG_galley" height="874" src="https://source.unsplash.com/random/1240x874?sig=49" width="1240">
        </li>
      </ul>
    </section>
  
    <section class="ANIM_galleryTXT">
      <div class="anim_img ANIM_galleryTXT-txt">
        CREATING&nbsp;THE&nbsp;LIFE&nbsp;I&nbsp;WANT
      </div>
    </section>
  </div>
</body>
<style>
  img.TAG_galley {
    width: 100%;
    height: auto;
    background: #f0f0f0;
  }
  ul.TAG_galley {
    padding-left: 1rem;
    list-style: none;
  }
  li.TAG_galley {
    flex-shrink: 0;
    width: clamp(500px, 60vw, 800px);
    padding-right: 1rem;
  }
  header.TAG_galley {
    height: 100vh;
  }
  .gallery_wrapper {
    overflow-x: hidden;
  }
  .anim_img {
    display: flex;
  }
  .ANIM_gallery:not(.last) {
    padding-bottom: 1rem;
  }
  .ANIM_galleryTXT .ANIM_galleryTXT-txt {
    font-size: clamp(8rem, 15vw, 16rem);
    line-height: 1;
    font-weight: 900;
  }

  .loader {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: black;
    color: white;
  }
</style>
<script>
  gsap.registerPlugin(ScrollTrigger);
  const images = gsap.utils.toArray("img");
  const loader = document.querySelector(".loader_progress");
  const updateProgress = (instance) =>
  (loader.textContent = `${Math.round(
    (instance.progressedCount * 100) / images.length
  )}%`);
  const showDemo = () => {
    document.body.style.overflow = "auto";
    document.scrollingElement.scrollTo(0, 0);
    gsap.to(document.querySelector(".loader"), {
      autoAlpha: 0
    });
    gsap.utils.toArray("section").forEach((section, index) => {
      const w = section.querySelector(".anim_img");
      console.log(w)
      const [x, xEnd] =
        index % 2
          ? ["100%", (w.scrollWidth - section.offsetWidth) * -1]
          : [w.scrollWidth * -1, 0];
      gsap.fromTo(
        w,
        {
          x
        },
        {
          x: xEnd,
          scrollTrigger: {
            trigger: section,
            scrub: 0.5
          }
        }
      );
    });
  };
  imagesLoaded(images).on("progress", updateProgress).on("always", showDemo);
</script>
</html>